<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Portfolio ‚Äî Abdul‚ÄëRehman</title>
  <meta name="description" content="Abdul‚ÄëRehman ‚Äî Junior Developer (Shopify, WooCommerce, WordPress). Selected work, services, experience, and contact." />
  
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üë®‚Äçüíª</text></svg>">
  <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üë®‚Äçüíª</text></svg>">
  
  <style>
    :root{ --bg:#0b0b0c;--panel:#141417;--text:#e7e6e4;--muted:#a9a9b0;--brand:#ffd269;--line:#2a2a32 }
    .light-mode{ --bg:#f5f5f7;--panel:#ffffff;--text:#1d1d1f;--muted:#6e6e73;--brand:#007aff;--line:#d2d2d7 }
    *{box-sizing:border-box; margin:0; padding:0}
    html,body{height:100%}
    body{margin:0;background:linear-gradient(180deg,var(--bg) 0%,var(--panel) 50%,var(--bg) 100%);color:var(--text);font:400 15px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial; overflow-x:hidden; transition:background 0.3s ease,color 0.3s ease}
    a{color:inherit;text-decoration:none}
    img{display:block;max-width:100%}
    .container{max-width:1120px;margin-inline:auto;padding:0 20px}
    
    header.nav{position:sticky;top:0;z-index:20;backdrop-filter:saturate(120%) blur(10px);background:rgba(0,0,0,.35);border-bottom:1px solid var(--line); transition:all 0.3s ease}
    .light-mode .nav{background:rgba(245,245,247,.8)}
    .nav-inner{display:flex;align-items:center;justify-content:space-between;padding:12px 0; flex-wrap:wrap; gap:12px}
    .btn{display:inline-flex;align-items:center;gap:8px;background:var(--brand);color:#000;font-weight:700;border-radius:999px;padding:10px 16px; font-size:14px; transition:transform 0.2s ease, box-shadow 0.2s ease}
    .btn:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(255,210,105,0.3)}
    .light-mode .btn{color:#fff}

    .nav-links{display:flex;gap:16px;color:#d7d7de;font-size:14px; align-items:center}
    .mobile-menu-btn{display:none; background:none; border:none; color:var(--text); font-size:20px; cursor:pointer; transition:transform 0.3s ease}

    .hero{padding:48px 0 24px}
    .hero h1{font-size:32px;line-height:1.1;margin:0 0 12px;font-weight:800}
    .hero p{margin:8px 0;color:var(--muted); font-size:14px}

    .section{padding:48px 0}
    .section h2{font-size:24px;margin:0 0 8px}
    .kicker{letter-spacing:.18em;text-transform:uppercase;color:var(--muted);font-size:12px; margin-bottom:8px}

    .grid{display:grid;gap:16px}
    .grid-3{grid-template-columns:1fr}
    .grid-2{grid-template-columns:1fr}

    .card{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:16px;transition:transform .4s ease, border-color .4s ease, box-shadow .4s ease; box-shadow:0 4px 12px rgba(0,0,0,0.05)}
    .card:hover{transform:translateY(-6px);border-color:var(--brand);box-shadow:0 8px 24px rgba(0,0,0,0.1)}
    .tag{display:inline-flex;align-items:center;border:1px solid var(--line);border-radius:999px;padding:4px 10px;font-size:11px;color:var(--muted); margin:2px; transition:all 0.3s ease}

    .thumb{border-radius:12px;background:var(--line);display:grid;place-items:center;color:var(--muted);margin-bottom:12px;overflow:hidden; transition:all 0.3s ease}
    .title{font-weight:700;margin:0; font-size:16px}
    .subtitle{color:var(--brand);margin:4px 0; font-size:14px}
    .muted{color:var(--muted); font-size:14px}

    .search{display:flex;align-items:center;gap:8px;margin:8px 0 20px; flex-direction:column}
    .search input{width:100%;background:var(--panel);border:1px solid var(--line);border-radius:12px;padding:12px;color:var(--text);outline:none; font-size:14px; transition:all 0.3s ease}
    .search input:focus{border-color:var(--brand);box-shadow:0 0 0 2px rgba(255,210,105,0.1)}
    .light-mode .search input:focus{box-shadow:0 0 0 2px rgba(0,122,255,0.1)}
    .count{font-size:12px;color:var(--muted); align-self:flex-start}

    footer{border-top:1px solid var(--line);background:var(--bg); padding:20px 0; transition:all 0.3s ease}
    footer .inner{display:flex;gap:16px;flex-direction:column;align-items:center;padding:0; text-align:center}
    .footer-links{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}

    .contact-form{display:grid;gap:12px}
    .form-input{background:var(--panel);border:1px solid var(--line);border-radius:12px;padding:12px;color:var(--text);outline:none; font-size:14px; width:100%; transition:all 0.3s ease}
    .form-input:focus{border-color:var(--brand);box-shadow:0 0 0 2px rgba(255,210,105,0.1)}
    .light-mode .form-input:focus{box-shadow:0 0 0 2px rgba(0,122,255,0.1)}

    .reveal{opacity:0;transform:translate3d(0,20px,0);will-change:transform,opacity; transition:transform .6s ease,opacity .6s ease}
    .reveal.in{opacity:1;transform:translate3d(0,0,0)}

    .theme-toggle{background:none;border:none;color:var(--text);font-size:20px;cursor:pointer;padding:8px;border-radius:50%;transition:all 0.3s ease}
    .theme-toggle:hover{background:var(--line);transform:rotate(15deg)}

    .mobile-drawer{position:fixed;top:0;left:-100%;width:280px;height:100%;background:var(--panel);z-index:30;padding:20px;transition:left 0.4s cubic-bezier(0.4, 0, 0.2, 1);box-shadow:2px 0 20px rgba(0,0,0,0.1);display:flex;flex-direction:column;gap:20px}
    .mobile-drawer.active{left:0}
    .drawer-header{display:flex;justify-content:space-between;align-items:center;padding-bottom:20px;border-bottom:1px solid var(--line)}
    .drawer-links{display:flex;flex-direction:column;gap:16px}
    .drawer-link{padding:12px 0;border-bottom:1px solid var(--line);transition:all 0.3s ease}
    .drawer-link:hover{color:var(--brand);padding-left:8px}
    .overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:25;opacity:0;visibility:hidden;transition:all 0.3s ease}
    .overlay.active{opacity:1;visibility:visible}
    
    /* Logo styles */
    .logo{height:100px;width:auto;transition:all 0.3s ease}
    .logo-dark{display:block}
    .logo-light{display:none}
    .light-mode .logo-dark{display:none}
    .light-mode .logo-light{display:block}
    footer .logo{height:24px}
    @media (max-width: 1020px){
      header.nav{padding:0px 10px}
      .container{padding:0px 10px}
      footer{padding:0px 10px}
    }

    @media (min-width: 768px) {
        .container{padding:0 24px}
        .hero{padding:64px 0 24px}
        .hero h1{font-size:38px}
        .section{padding:56px 0}
        .section h2{font-size:28px}
        .grid-3{grid-template-columns:repeat(2,1fr)}
        .grid-2{grid-template-columns:repeat(2,1fr)}
        .search{flex-direction:row}
        .search input{flex:1}
        .count{align-self:center}
        footer .inner{flex-direction:row;justify-content:space-between;align-items:center;text-align:left; padding:18px 0}
        .footer-links{justify-content:flex-end}
        .nav-links{display:flex !important}
    }

    @media (min-width: 1024px) {
        .hero h1{font-size:42px}
        .grid-3{grid-template-columns:repeat(3,1fr)}
        .mobile-menu-btn{display:none}
    }

    @media (max-width: 767px) {
        .nav-links{display:none}
        .mobile-menu-btn{display:block}
        .nav-inner{position:relative}
        .brand{position:absolute;left:50%;transform:translateX(-50%)}
    }
  </style>
</head>
<body>
  <div class="overlay" id="overlay"></div>
  
  <div class="mobile-drawer" id="mobileDrawer">
    <div class="drawer-header">
      <div style="font-weight:800">Menu</div>
      <button class="mobile-menu-btn" id="closeDrawer">‚úï</button>
    </div>
    <nav class="drawer-links">
      <a href="#Services" class="drawer-link">Services</a>
      <a href="#Works" class="drawer-link">Works</a>
      <a href="#Experience" class="drawer-link">Experience</a>
      <a href="#About" class="drawer-link">About</a>
      <a href="#Contact" class="drawer-link">Contact</a>
    </nav>
    <div style="margin-top:auto;padding-top:20px;border-top:1px solid var(--line)">
      <button class="theme-toggle" id="mobileThemeToggle">üåô</button>
    </div>
  </div>

  <header class="nav">
    <div class="container nav-inner">
      <button class="mobile-menu-btn" id="mobileMenuBtn">‚ò∞</button>
      
      <!-- Logo -->
      <div class="brand">
        <img src="logo-dark-mode.png" alt="Abdul-Rehman" class="logo logo-dark">
        <img src="logo-light-mode.png" alt="Abdul-Rehman" class="logo logo-light">
      </div>
      
      <nav class="nav-links" id="navLinks">
        <a href="#Services" class="nav-link">Services</a>
        <a href="#Works" class="nav-link">Works</a>
        <a href="#Experience" class="nav-link">Experience</a>
        <a href="#About" class="nav-link">About</a>
        <a href="#Contact" class="nav-link">Contact</a>
      </nav>
      
      <div style="display:flex;align-items:center;gap:12px">
        <button class="theme-toggle" id="themeToggle">üåô</button>
        <a class="btn" href="#Contact">Let's Work</a>
      </div>
    </div>
  </header>

  <main>
    <section class="hero container">
      <h1 class="reveal">Abdul‚ÄëRehman ‚Äî Shopify & WordPress Developer</h1>
      <p class="reveal">Shopify ‚Ä¢ WooCommerce ‚Ä¢ WordPress (Theme customization, plugins, payments, CRO)</p>
      <p class="reveal muted" style="text-transform:uppercase;letter-spacing:.12em;font-size:12px">E‚Äëcommerce Development ‚Ä¢ UI/UX ‚Ä¢ Performance</p>
      <p class="reveal" style="color:#72f0b5">Available for Work ‚Äî Oct '25 ¬∑ Lahore, PK</p>
    </section>

    <section id="Services" class="section container">
      <div class="kicker">What I Do</div>
      <h2>Services</h2>
      <div class="grid grid-3">
        <div class="card reveal">
          <div class="muted" style="text-transform:uppercase;letter-spacing:.2em;font-size:12px">(01)</div>
          <h3 style="margin:8px 0; font-size:18px">E‚Äëcommerce Development</h3>
          <p class="muted">Shopify, WooCommerce ‚Äî theme design, custom sections, product/catalog setup, performance tuning.</p>
          <div style="display:flex;gap:4px;flex-wrap:wrap;margin-top:12px">
            <span class="tag">Shopify OS 2.0</span><span class="tag">WooCommerce</span><span class="tag">GA4</span>
          </div>
        </div>
        <div class="card reveal">
          <div class="muted" style="text-transform:uppercase;letter-spacing:.2em;font-size:12px">(02)</div>
          <h3 style="margin:8px 0; font-size:18px">Integrations & Payments</h3>
          <p class="muted">Payment gateways, shipping plugins, third‚Äëparty tools, analytics, and automation.</p>
          <div style="display:flex;gap:4px;flex-wrap:wrap;margin-top:12px">
            <span class="tag">Stripe</span><span class="tag">PayFast</span><span class="tag">Shiprocket</span>
          </div>
        </div>
        <div class="card reveal">
          <div class="muted" style="text-transform:uppercase;letter-spacing:.2em;font-size:12px">(03)</div>
          <h3 style="margin:8px 0; font-size:18px">Maintenance & Troubleshooting</h3>
          <p class="muted">Bug fixing, updates, responsive design, SEO basics, performance optimization, CRO.</p>
          <div style="display:flex;gap:4px;flex-wrap:wrap;margin-top:12px">
            <span class="tag">Performance</span><span class="tag">A11y</span><span class="tag">CRO</span>
          </div>
        </div>
      </div>
    </section>

    <section id="Works" class="section container">
      <div class="kicker">Selected</div>
      <h2>Works</h2>
      <div class="search">
        <input id="search" placeholder="Search (e.g. Shopify, Fragrance, PMax)" />
        <span class="count" id="count">0 results</span>
      </div>
      <div id="grid" class="grid grid-3"></div>
    </section>

    <section id="Experience" class="section container">
      <div class="kicker">Track</div>
      <h2>Experience</h2>
      <div class="card reveal">
        <div class="muted" style="display:flex;flex-direction:column;gap:8px;margin-bottom:12px">
          <span><strong>Junior Developer</strong> ‚Äî Growex</span>
          <span>Apr 2024 ‚Äì Present</span>
        </div>
        <ul class="muted" style="padding-left:20px;margin:8px 0">
          <li style="margin-bottom:6px">Developed & customized e‚Äëcommerce websites using Shopify, WooCommerce & WordPress.</li>
          <li style="margin-bottom:6px">Integrated payment gateways, shipping plugins, and third‚Äëparty tools to enhance performance.</li>
          <li style="margin-bottom:6px">Collaborated with cross‚Äëfunctional teams to deliver client‚Äëfocused solutions under deadlines.</li>
          <li>Hands‚Äëon troubleshooting, platform customization, and responsive design.</li>
        </ul>
      </div>

      <div class="grid grid-2" style="margin-top:20px">
        <div class="card reveal">
          <h3 style="margin-bottom:12px">Education</h3>
          <p class="muted"><strong>Virtual University ‚Äî Lahore</strong><br/>BS (Software Engineering), 2025‚Äì2029</p>
        </div>
        <div class="card reveal">
          <h3 style="margin-bottom:12px">Communication & Leadership</h3>
          <ul class="muted" style="padding-left:20px">
            <li style="margin-bottom:6px">Clear client communication; tailored solutions to requirements.</li>
            <li style="margin-bottom:6px">Presented updates & progress to stakeholders with transparency.</li>
            <li>Led group tasks for timely delivery & high‚Äëquality results.</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="About" class="section container">
      <div class="kicker">Who</div>
      <h2>About</h2>
      <div class="grid grid-2">
        <div class="card reveal">
          <h3 style="margin-bottom:12px">Objective</h3>
          <p class="muted">Results‚Äëdriven Developer with hands‚Äëon experience in building and optimizing e‚Äëcommerce platforms using Shopify, WooCommerce, and WordPress. Passionate about user‚Äëfriendly, high‚Äëperforming websites and eager to contribute to innovative projects.</p>
        </div>
        <div class="card reveal">
          <h3 style="margin-bottom:12px">Skills & Abilities</h3>
          <ul class="muted" style="padding-left:20px">
            <li style="margin-bottom:6px"><strong>E‚Äëcommerce:</strong> Shopify, WooCommerce</li>
            <li style="margin-bottom:6px"><strong>Web:</strong> WordPress, HTML, CSS</li>
            <li style="margin-bottom:6px"><strong>Customization:</strong> Theme design, plugin integration, gateways</li>
            <li style="margin-bottom:6px"><strong>Maintenance:</strong> Bug fixing, performance, updates</li>
            <li><strong>Soft:</strong> Teamwork, problem‚Äësolving, adaptability, communication</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="Contact" class="section container">
      <div class="kicker">Say Hello</div>
      <h2>Contact</h2>
      <div class="card reveal">
        <div style="display:flex;flex-direction:column;gap:12px;margin-bottom:16px" class="muted">
          <span>üìç Lahore, PK</span>
          <a id="phoneLink" href="tel:+923114981846">üìû +92 311 4981846</a>
          <a id="emailLink" href="mailto:rehmanverse.pro@gmail.com">‚úâÔ∏è rehmanverse.pro@gmail.com</a>
        </div>
        <form id="contactForm" class="contact-form">
          <input name="name" placeholder="Your name" class="form-input" required />
          <input type="email" name="email" placeholder="Email" class="form-input" required />
          <textarea name="message" rows="5" placeholder="Tell me about your project..." class="form-input" required></textarea>
          <button class="btn" type="submit" style="justify-content:center">Send Message</button>
        </form>
      </div>
    </section>
  </main>

  <footer>
    <div class="container inner">
      <div>¬© <span id="year"></span> <span id="footerName">Abdul‚ÄëRehman</span></div>
      <div class="footer-links muted">
        <a href="#Services">Services</a>
        <a href="#Works">Works</a>
        <a href="#Experience">Experience</a>
        <a href="#About">About</a>
        <a href="#Contact">Contact</a>
      </div>
    </div>
  </footer>

  <script>
  const YOUR_NAME = 'Abdul‚ÄëRehman';
  const CONTACT_EMAIL = 'rehmanverse.pro@gmail.com';
  const PHONE = '+923114981846';
  const LOCATION = 'Lahore, PK';

  const REF_SITES = [
    { 
      url: 'https://bragg.pk/', 
      title: 'Bragg Pakistan', 
      subtitle: 'Apple Cider Vinegar (FMCG)', 
      year: '2025', 
      tags: ['Marketplace','Content','Performance'],
      image: 'Optimized-Bragg.png'
    },
    { 
      url: 'https://www.sheikhjee.com/', 
      title: 'SheikhJee', 
      subtitle: 'Home Furnishings', 
      year: '2025', 
      tags: ['Shopify','CRO','Catalog'],
      image: 'Optimized-SheikhJee.png'
    },
    { 
      url: 'https://oakandteak.pk/', 
      title: 'Oak & Teak', 
      subtitle: 'Furniture', 
      year: '2025', 
      tags: ['Shopify','UX','Performance'],
      image: 'Optimized-Oak&Teak.png'
    },
    { 
      url: 'https://donvalleypharma.com/', 
      title: 'Don Valley Pharma', 
      subtitle: 'Pharma Manufacturer', 
      year: '2025', 
      tags: ['Corporate','WordPress','IA'],
      image: 'Optimized-Donvalley.png'
    },
    { 
      url: 'https://aapkaclinic.org/', 
      title: 'Aap Ka Clinic', 
      subtitle: 'Healthcare / Non-profit', 
      year: '2025', 
      tags: ['WordPress','SEO','Donations'],
      image: 'Optimized-Aapkaclinic.png'
    },
    { 
      url: 'https://sairarizwan.pk/', 
      title: 'Saira Rizwan', 
      subtitle: 'Couture & Pret', 
      year: '2025', 
      tags: ['Shopify','Global','CRO'],
      image: 'Optimized-SairaRizwan.png'
    },
    { 
      url: 'https://1ststep.pk/', 
      title: '1st Step', 
      subtitle: 'Footwear & Accessories', 
      year: '2025', 
      tags: ['Shopify','CRM','Sale Ops'],
      image: 'Optimized-1ststep.png'
    },
    { 
      url: 'https://jafperfumes.com/', 
      title: 'JAF Perfumes', 
      subtitle: 'D2C Fragrance', 
      year: '2025', 
      tags: ['Shopify','UGC Reviews','Bundles'],
      image: 'Optimized-JAF.png'
    },
    { 
      url: 'https://mayapret.com/', 
      title: 'MAYA Pret', 
      subtitle: 'Luxury Pret & Bridals', 
      year: '2025', 
      tags: ['Shopify','Launch','Creator'],
      image: 'Optimized-Maya-Pret.png'
    },
  ];

  const CORS_PROXY = '';

  function $(sel, root=document){ return root.querySelector(sel); }
  function el(tag, attrs={}){ const n=document.createElement(tag); Object.assign(n, attrs); return n; }
  function validateDataShape(data){
    const problems=[]; if (!Array.isArray(data)) problems.push('REF_SITES must be an array');
    (data||[]).forEach((p,i)=>{ if (!p||typeof p!=='object') problems.push(`Item ${i} must be an object`); ['url','title'].forEach(k=>{ if(!p[k]) problems.push(`Item ${i} missing ${k}`); }); });
    return problems;
  }
  function extractMeta(html){
    const pick=(re)=>{ const m=html.match(re); return (m&&m[1]||'').trim(); };
    const ogt = pick(/<meta[^>]+property=["']og:title["'][^>]+content=["']([^"']+)["'][^>]*>/i);
    const twt = pick(/<meta[^>]+name=["']twitter:title["'][^>]+content=["']([^"']+)["'][^>]*>/i);
    const tit = pick(/<title[^>]*>([^<]+)<\/title>/i);
    const desc = pick(/<meta[^>]+name=["']description["'][^>]+content=["']([^"']+)["'][^>]*>/i) || pick(/<meta[^>]+property=["']og:description["'][^>]+content=["']([^"']+)["'][^>]*>/i);
    const img = pick(/<meta[^>]+property=["']og:image["'][^>]+content=["']([^"']+)["'][^>]*>/i) || pick(/<meta[^>]+name=["']twitter:image["'][^>]+content=["']([^"']+)["'][^>]*>/i);
    return { title: ogt||twt||tit||'', description: desc||'', image: img||'' };
  }
  async function enrichViaProxy(url){ if(!CORS_PROXY) return null; try{ const res = await fetch(CORS_PROXY+encodeURIComponent(url), { cache:'no-store' }); if(!res.ok) return null; const html = await res.text(); return extractMeta(html); }catch(err){ console.warn('Proxy fetch failed for', url, err); return null; } }

  function renderProjects(list){
    const grid = $('#grid'); grid.innerHTML='';
    list.forEach((p, idx)=>{
      const a = el('a', { href:p.url, target:'_blank', rel:'noopener noreferrer', className:'card reveal' });
      a.style.transitionDelay = ((idx%6)*50)+'ms';
      const imgWrap = el('div', { className:'thumb' });
      const img = el('img', { alt:p.title||'Thumbnail' });
      if(p.image){ 
        img.src = p.image; 
        img.loading='lazy'; 
        imgWrap.appendChild(img); 
      } else { 
        // Fallback if no image is provided
        imgWrap.textContent='Thumbnail'; 
      }
      const h3 = el('h3', { className:'title', textContent:p.title||'Untitled' });
      const sub = el('div', { className:'subtitle', textContent:p.subtitle||'' });
      const year = p.year ? el('span', { className:'tag', textContent:p.year }) : null;
      const sum = el('p', { className:'muted', textContent:p.description||p.summary||'' });
      const tagWrap = el('div'); tagWrap.style.display='flex'; tagWrap.style.flexWrap='wrap'; tagWrap.style.gap='4px'; tagWrap.style.marginTop='12px';
      (p.tags||[]).forEach(t=> tagWrap.appendChild(el('span',{className:'tag', textContent:t})) );
      a.append(imgWrap,h3,sub, ...(year?[year]:[]), sum, tagWrap, el('div',{className:'muted',textContent:'Visit ‚Üó', style:'text-align:right;margin-top:8px'}));
      grid.appendChild(a);
    });
    $('#count').textContent = list.length + (list.length===1?' result':' results');
    triggerReveal();
  }

  function setupSearch(projects){
    const input = $('#search');
    input.addEventListener('input', ()=>{
      const term = input.value.trim().toLowerCase();
      const filtered = !term ? projects : projects.filter(p => (
        [p.title||'', p.subtitle||'', (p.tags||[]).join(' '), p.description||'', p.summary||''].join(' ').toLowerCase().includes(term)
      ));
      renderProjects(filtered);
    });
  }

  function setupMobileMenu() {
    const menuBtn = $('#mobileMenuBtn');
    const closeBtn = $('#closeDrawer');
    const drawer = $('#mobileDrawer');
    const overlay = $('#overlay');
    
    function openMenu() {
      drawer.classList.add('active');
      overlay.classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    
    function closeMenu() {
      drawer.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = '';
    }
    
    menuBtn.addEventListener('click', openMenu);
    closeBtn.addEventListener('click', closeMenu);
    overlay.addEventListener('click', closeMenu);
    
    document.querySelectorAll('.drawer-link').forEach(link => {
      link.addEventListener('click', closeMenu);
    });
  }

  function setupThemeToggle() {
    const themeToggle = $('#themeToggle');
    const mobileThemeToggle = $('#mobileThemeToggle');
    
    function setTheme(theme) {
      if (theme === 'light') {
        document.body.classList.add('light-mode');
        themeToggle.textContent = '‚òÄÔ∏è';
        mobileThemeToggle.textContent = '‚òÄÔ∏è';
      } else {
        document.body.classList.remove('light-mode');
        themeToggle.textContent = 'üåô';
        mobileThemeToggle.textContent = 'üåô';
      }
      localStorage.setItem('theme', theme);
    }
    
    function toggleTheme() {
      const isLight = document.body.classList.contains('light-mode');
      setTheme(isLight ? 'dark' : 'light');
    }
    
    themeToggle.addEventListener('click', toggleTheme);
    mobileThemeToggle.addEventListener('click', toggleTheme);
    
    const savedTheme = localStorage.getItem('theme') || 'dark';
    setTheme(savedTheme);
  }

  function setupContactForm() {
    const form = $('#contactForm');
    
    form.addEventListener('submit', function(e) {
      e.preventDefault();
      
      const formData = new FormData(form);
      const data = {
        name: formData.get('name'),
        email: formData.get('email'),
        message: formData.get('message')
      };
      
      const subject = `Portfolio Contact from ${data.name}`;
      const body = `Name: ${data.name}%0D%0AEmail: ${data.email}%0D%0A%0D%0AMessage:%0D%0A${data.message}`;
      
      window.location.href = `mailto:${CONTACT_EMAIL}?subject=${encodeURIComponent(subject)}&body=${body}`;
      
      form.reset();
      
      const button = form.querySelector('button');
      const originalText = button.textContent;
      button.textContent = 'Message Sent!';
      button.style.background = '#72f0b5';
      button.style.color = '#000';
      
      setTimeout(() => {
        button.textContent = originalText;
        button.style.background = '';
        button.style.color = '';
      }, 3000);
    });
  }

  const IO = new IntersectionObserver((entries)=>{
    for (const e of entries){ if (e.isIntersecting){ e.target.classList.add('in'); IO.unobserve(e.target); } }
  }, { root:null, rootMargin:'0px 0px -10% 0px', threshold:0.08 });
  function triggerReveal(){ document.querySelectorAll('.reveal:not(.in)').forEach(el=>IO.observe(el)); }

  (async function main(){
    document.title = `Portfolio ‚Äî ${YOUR_NAME}`;
    $('#year').textContent = new Date().getFullYear();
    const elMail = document.getElementById('emailLink'); if (elMail){ elMail.href = 'mailto:'+CONTACT_EMAIL; elMail.textContent = '‚úâÔ∏è '+CONTACT_EMAIL; }
    const elPhone = document.getElementById('phoneLink'); if (elPhone){ elPhone.href = 'tel:'+PHONE.replace(/\s/g,''); elPhone.textContent = 'üìû '+PHONE; }

    setupMobileMenu();
    setupThemeToggle();
    setupContactForm();

    try{ const issues = validateDataShape(REF_SITES); if(issues.length){ console.warn('Data shape issues:', issues); } }catch(err){ console.warn('Validation skipped', err); }

    let projects = REF_SITES.map(s => ({...s}));
    if (CORS_PROXY){
      try{
        const enriched = await Promise.all(projects.map(async (p)=>{
          const m = await enrichViaProxy(p.url);
          return m ? { ...p, title: m.title || p.title, description: m.description || '', image: m.image || '' } : p;
        }));
        projects = enriched;
      }catch(err){ console.warn('Enrichment failed:', err); }
    }

    setupSearch(projects);
    renderProjects(projects);
    triggerReveal();
  })();
  </script>
</body>
</html>




